---
interface Props {
  envId: string;
}

import Card from "@/components/temple/Card.astro";
import "@/styles/twikoo.css";
const { envId } = Astro.props;
---

<Card class="p-6">
  <div id="tcomment"></div>
</Card>

<script is:inline defer src="/js/twikoo.all.min.js"></script>

<script is:inline define:vars={{ envId }}>
  function initTwikoo() {
    if (typeof twikoo !== 'undefined') {
      twikoo.init({
        envId: envId,
        el: '#tcomment',
      });
    }
  }

  // 视图转换兼容
  document.addEventListener('astro:page-load', initTwikoo, { once: true });
</script>


